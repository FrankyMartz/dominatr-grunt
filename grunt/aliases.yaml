default:
  - envDev
  - buildcore

buildcore:
  - concat:scripts
  - concat:angular
  - concat:components
  - less
  - postcss
  - copy
  - svg_sprite
  - svgmin
  - includeSource
  - ejs
  - ngtemplates
  - replace

test:
  - envDev
  - envUseSource
  - clean:build
  - buildcore
  - instrument
  - rev
  - protractor_coverage:local
  - envDontUseSource
  - clean:build
  - buildcore
  - makeReport
  - jshint:dev

teststack:
  - envDev
  - envUseSource
  - clean:build
  - buildcore
  - jshint:deploy
  - instrument
  - rev
  - localstack
  - protractor_coverage:stack
  - envDontUseSource
  - clean:build
  - buildcore
  - makeReport

rev:
  - filerev
  - filerev_replace

deploystaging:
  - envStaging
  - deploy

deployprod:
  - envProd
  - deploy

deploy:
  - envUseDist
  - clean
  - buildcore
  - clean:modules
  - babel
  - uglify
  - concat:dist
  - rev
  - s3
  - cloudfront
